<!DOCTYPE html>
<html class="no-js" lang="en"> <head><meta charset="utf-8"/><meta content="width=device-width,initial-scale=1" name="viewport"/><link href="../../assets/logo/logo.png" rel="icon"/><meta content="mkdocs-1.6.1, mkdocs-material-9.7.0" name="generator"/><title>confit.registry - Confit</title><link href="../../assets/stylesheets/main.618322db.min.css" rel="stylesheet"/><link href="../../assets/stylesheets/palette.ab4e12ef.min.css" rel="stylesheet"/><link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/><link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link href="../../assets/_mkdocstrings.css" rel="stylesheet"/><link href="../../override.css" rel="stylesheet"/><link href="../../assets/stylesheets/extra.css" rel="stylesheet"/><link href="../../clickable-code.css" rel="stylesheet"/><link href="../../cards.css" rel="stylesheet"/><link href="../../pret.css" rel="stylesheet"/><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body data-md-color-accent="indigo" data-md-color-primary="indigo" data-md-color-scheme="default" dir="ltr"> <input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/> <input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/> <label class="md-overlay" for="__drawer"></label> <div data-md-component="skip"> <a class="md-skip" href="#confitregistry"> Skip to content </a> </div> <div data-md-component="announce"> </div> <div data-md-color-scheme="default" data-md-component="outdated" hidden=""> </div> <header class="md-header md-header--shadow" data-md-component="header"> <nav aria-label="Header" class="md-header__inner md-grid"> <a aria-label="Confit" class="md-header__button md-logo" data-md-component="logo" href="../.." title="Confit"> <img alt="logo" src="../../assets/logo/logo.png"/> </a> <label class="md-header__button md-icon" for="__drawer"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg> </label> <div class="md-header__title" data-md-component="header-title"> <div class="md-header__ellipsis"> <div class="md-header__topic"> <span class="md-ellipsis"> Confit </span> </div> <div class="md-header__topic" data-md-component="header-topic"> <span class="md-ellipsis"> confit.registry </span> </div> </div> </div> <form class="md-header__option" data-md-component="palette"> <input aria-label="Switch to dark mode" class="md-option" data-md-color-accent="indigo" data-md-color-media="" data-md-color-primary="indigo" data-md-color-scheme="default" id="__palette_0" name="__palette" type="radio"/> <label class="md-header__button md-icon" for="__palette_1" hidden="" title="Switch to dark mode"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"></path></svg> </label> <input aria-label="Switch to light mode" class="md-option" data-md-color-accent="indigo" data-md-color-media="" data-md-color-primary="indigo" data-md-color-scheme="slate" id="__palette_1" name="__palette" type="radio"/> <label class="md-header__button md-icon" for="__palette_0" hidden="" title="Switch to light mode"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"></path></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for="__search"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg> </label> <div class="md-search" data-md-component="search" role="dialog"> <label class="md-search__overlay" for="__search"></label> <div class="md-search__inner" role="search"> <form class="md-search__form" name="search"> <input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/> <label class="md-search__icon md-icon" for="__search"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg> </label> <nav aria-label="Search" class="md-search__options"> <button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" title="Clear" type="reset"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg> </button> </nav> </form> <div class="md-search__output"> <div class="md-search__scrollwrap" data-md-scrollfix="" tabindex="0"> <div class="md-search-result" data-md-component="search-result"> <div class="md-search-result__meta"> Initializing search </div> <ol class="md-search-result__list" role="presentation"></ol> </div> </div> </div> </div> </div> <div class="md-header__source"> <a class="md-source" data-md-component="source" href="https://github.com/aphp/confit" title="Go to repository"> <div class="md-source__icon md-icon"> <svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"></path></svg> </div> <div class="md-source__repository"> GitHub </div> </a> </div> </nav> </header> <div class="md-container" data-md-component="container"> <main class="md-main" data-md-component="main"> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation"> <div class="md-sidebar__scrollwrap"> <div class="md-sidebar__inner"> <nav aria-label="Navigation" class="md-nav md-nav--primary" data-md-level="0"> <label class="md-nav__title" for="__drawer"> <a aria-label="Confit" class="md-nav__button md-logo" data-md-component="logo" href="../.." title="Confit"> <img alt="logo" src="../../assets/logo/logo.png"/> </a> Confit </label> <div class="md-nav__source"> <a class="md-source" data-md-component="source" href="https://github.com/aphp/confit" title="Go to repository"> <div class="md-source__icon md-icon"> <svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"></path></svg> </div> <div class="md-source__repository"> GitHub </div> </a> </div> <ul class="md-nav__list" data-md-scrollfix=""> <li class="md-nav__item"> <a class="md-nav__link" href="../../getting-started/"> <span class="md-ellipsis"> Getting started </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../.."> <span class="md-ellipsis"> Confit </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../alternatives/"> <span class="md-ellipsis"> Alternatives &amp; Comparison </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" id="__nav_4" type="checkbox"/> <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0"> <span class="md-ellipsis"> Code Reference </span> <span class="md-nav__icon md-icon"></span> </label> <nav aria-expanded="false" aria-labelledby="__nav_4_label" class="md-nav" data-md-level="1"> <label class="md-nav__title" for="__nav_4"> <span class="md-nav__icon md-icon"></span> Code Reference </label> <ul class="md-nav__list" data-md-scrollfix=""> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" id="__nav_4_1" type="checkbox"/> <div class="md-nav__link md-nav__container"> <a class="md-nav__link" href="../confit/"> <span class="md-ellipsis"> confit </span> </a> <label class="md-nav__link" for="__nav_4_1" id="__nav_4_1_label" tabindex="0"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav aria-expanded="false" aria-labelledby="__nav_4_1_label" class="md-nav" data-md-level="2"> <label class="md-nav__title" for="__nav_4_1"> <span class="md-nav__icon md-icon"></span> confit </label> <ul class="md-nav__list" data-md-scrollfix=""> <li class="md-nav__item"> <a class="md-nav__link" href="../confit/"> <span class="md-ellipsis"> Overview </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../confit/cli/"> <span class="md-ellipsis"> cli </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../confit/config/"> <span class="md-ellipsis"> config </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../confit/draft/"> <span class="md-ellipsis"> draft </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../confit/errors/"> <span class="md-ellipsis"> errors </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../confit/registry/"> <span class="md-ellipsis"> registry </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../confit/typing/"> <span class="md-ellipsis"> typing </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" id="__nav_4_1_9" type="checkbox"/> <div class="md-nav__link md-nav__container"> <a class="md-nav__link" href="../confit/utils/"> <span class="md-ellipsis"> utils </span> </a> <label class="md-nav__link" for="__nav_4_1_9" id="__nav_4_1_9_label" tabindex="0"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav aria-expanded="false" aria-labelledby="__nav_4_1_9_label" class="md-nav" data-md-level="3"> <label class="md-nav__title" for="__nav_4_1_9"> <span class="md-nav__icon md-icon"></span> utils </label> <ul class="md-nav__list" data-md-scrollfix=""> <li class="md-nav__item"> <a class="md-nav__link" href="../confit/utils/"> <span class="md-ellipsis"> Overview </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../confit/utils/collections/"> <span class="md-ellipsis"> collections </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../confit/utils/eval/"> <span class="md-ellipsis"> eval </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../confit/utils/random/"> <span class="md-ellipsis"> random </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../confit/utils/settings/"> <span class="md-ellipsis"> settings </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../confit/utils/xjson/"> <span class="md-ellipsis"> xjson </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../contributing/"> <span class="md-ellipsis"> Contributing to Confit </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../changelog/"> <span class="md-ellipsis"> Changelog </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../roadmap/"> <span class="md-ellipsis"> Roadmap </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc"> <div class="md-sidebar__scrollwrap"> <div class="md-sidebar__inner"> <nav aria-label="Table of contents" class="md-nav md-nav--secondary"> <label class="md-nav__title" for="__toc"> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix=""> <li class="md-nav__item"> <a class="md-nav__link" href="#confit.registry.VisibleDeprecationWarning"> <span class="md-ellipsis"> VisibleDeprecationWarning </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#confit.registry.Registry"> <span class="md-ellipsis"> Registry </span> </a> <nav aria-label="Registry" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#confit.registry.Registry--parameters"> <span class="md-ellipsis"> Parameters </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#confit.registry.Registry.register"> <span class="md-ellipsis"> register() </span> </a> <nav aria-label="register()" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#confit.registry.Registry.register--parameters"> <span class="md-ellipsis"> Parameters </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#confit.registry.Registry.get_entry_points"> <span class="md-ellipsis"> get_entry_points() </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#confit.registry.Registry.get"> <span class="md-ellipsis"> get() </span> </a> <nav aria-label="get()" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#confit.registry.Registry.get--parameters"> <span class="md-ellipsis"> Parameters </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#confit.registry.Registry.get_available"> <span class="md-ellipsis"> get_available() </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#confit.registry.MetaRegistryCollection"> <span class="md-ellipsis"> MetaRegistryCollection </span> </a> <nav aria-label="MetaRegistryCollection" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#confit.registry.MetaRegistryCollection--parameters"> <span class="md-ellipsis"> Parameters </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#confit.registry.RegistryCollection"> <span class="md-ellipsis"> RegistryCollection </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#confit.registry.validate_arguments"> <span class="md-ellipsis"> validate_arguments() </span> </a> <nav aria-label="validate_arguments()" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#confit.registry.validate_arguments--parameters"> <span class="md-ellipsis"> Parameters </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#confit.registry.get_default_registry"> <span class="md-ellipsis"> get_default_registry() </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#confit.registry.set_default_registry"> <span class="md-ellipsis"> set_default_registry() </span> </a> <nav aria-label="set_default_registry()" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#confit.registry.set_default_registry--parameters"> <span class="md-ellipsis"> Parameters </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-content" data-md-component="content"> <article class="md-content__inner md-typeset"> <h1 id="confitregistry"><code>confit.registry</code></h1> <div class="doc doc-object doc-module"> <div class="doc doc-contents first"> <div class="doc doc-children"> <div class="doc doc-object doc-class"> <h2 class="doc doc-heading sourced-heading" id="confit.registry.VisibleDeprecationWarning"> <code>VisibleDeprecationWarning</code> <span class="sourced-heading-spacer"></span><a href="https://github.com/aphp/confit/blob/c8936c2/confit/registry.py#L423" target="_blank">[source]</a></h2> <div class="doc doc-contents"> <p class="doc doc-class-bases"> Bases: <code><span title="UserWarning">UserWarning</span></code></p> <p>Visible deprecation warning.</p> <p>By default, python will not show deprecation warnings, so this class can be used when a very visible warning is helpful, for example because the usage is most likely a user bug.</p> <p>Copied from https://github.com/numpy/numpy/blob/965b41d418e6100c1afae0b6f818a7ef152bc25d/numpy/_globals.py#L44-L51</p> </div> </div><div class="doc doc-object doc-class"> <h2 class="doc doc-heading sourced-heading" id="confit.registry.Registry"> <code class="highlight language-python"><span class="n">Registry</span></code> <span class="sourced-heading-spacer"></span><a href="https://github.com/aphp/confit/blob/c8936c2/confit/registry.py#L438" target="_blank">[source]</a></h2> <div class="doc doc-contents"> <p class="doc doc-class-bases"> Bases: <code><span title="catalogue.Registry">Registry</span></code></p> <p>A registry that validates the input arguments of the registered functions.</p> <p>Initialize the registry.</p> <h3 id="confit.registry.Registry--parameters">Parameters</h3> <table> <thead> <tr> <th><b>PARAMETER</b></th> <th><b>DESCRIPTION</b></th> </tr> </thead> <tbody> <tr> <td><code>namespace</code></td> <td class="doc-param-details"> <p>The namespace of the registry</p> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code><span title="typing.Sequence">Sequence</span>[<span title="str">str</span>]</code> </span> </p> </td> </tr> <tr> <td><code>entry_points</code></td> <td class="doc-param-details"> <p>Should we use entry points to load the registered functions</p> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code><span title="bool">bool</span></code> </span> <span class="doc-param-default"> <b>DEFAULT:</b> <code>False</code> </span> </p> </td> </tr> </tbody> </table> <details class="quote"> <summary>Source code in <code>confit/registry.py</code></summary> <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">namespace</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">entry_points</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Initialize the registry.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    namespace: Sequence[str]</span>
<span class="sd">        The namespace of the registry</span>
<span class="sd">    entry_points: bool</span>
<span class="sd">        Should we use entry points to load the registered functions</span>
<span class="sd">    """</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">namespace</span><span class="p">,</span> <span class="n">entry_points</span><span class="o">=</span><span class="n">entry_points</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">registry</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <div class="doc doc-object doc-function"> <h3 class="doc doc-heading sourced-heading" id="confit.registry.Registry.register"> <code class="highlight language-python"><span class="n">register</span></code> <span class="sourced-heading-spacer"></span><a href="https://github.com/aphp/confit/blob/c8936c2/confit/registry.py#L457" target="_blank">[source]</a></h3> <div class="doc doc-contents"> <p>This is a convenience wrapper around <code>catalogue.Registry.register</code>, that additionally validates the input arguments of the registered function and saves the result of any call to a mapping to its arguments.</p> <h4 id="confit.registry.Registry.register--parameters">Parameters</h4> <table> <thead> <tr> <th><b>PARAMETER</b></th> <th><b>DESCRIPTION</b></th> </tr> </thead> <tbody> <tr> <td><code>name</code></td> <td class="doc-param-details"> <p>The name of the function</p> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code><span title="str">str</span></code> </span> </p> </td> </tr> <tr> <td><code>func</code></td> <td class="doc-param-details"> <p>The function to register</p> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code><span title="typing.Optional">Optional</span>[<span title="typing.Union">Union</span>[<span title="typing.Callable">Callable</span>[<span title="confit.registry.P">P</span>, <span title="confit.registry.R">R</span>], <span title="typing.Type">Type</span>[<span title="confit.registry.R">R</span>]]]</code> </span> <span class="doc-param-default"> <b>DEFAULT:</b> <code>None</code> </span> </p> </td> </tr> <tr> <td><code>save_params</code></td> <td class="doc-param-details"> <p>Additional parameters to save when the function is called. If falsy, the function parameters are not saved</p> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code><span title="typing.Optional">Optional</span>[<span title="typing.Dict">Dict</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]]</code> </span> <span class="doc-param-default"> <b>DEFAULT:</b> <code>None</code> </span> </p> </td> </tr> <tr> <td><code>skip_save_params</code></td> <td class="doc-param-details"> <p>List of parameters to skip when saving the function parameters</p> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code><span title="typing.Sequence">Sequence</span>[<span title="str">str</span>]</code> </span> <span class="doc-param-default"> <b>DEFAULT:</b> <code>()</code> </span> </p> </td> </tr> <tr> <td><code>invoker</code></td> <td class="doc-param-details"> <p>An optional invoker to apply to the function before registering it. It is better to use this than to apply the invoker to the function to preserve the signature of the function or the class and enable validating its parameters.</p> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code><span title="typing.Optional">Optional</span>[<span title="typing.Callable">Callable</span>]</code> </span> <span class="doc-param-default"> <b>DEFAULT:</b> <code>None</code> </span> </p> </td> </tr> <tr> <td><code>deprecated</code></td> <td class="doc-param-details"> <p>The deprecated registry names for the function</p> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code><span title="typing.Sequence">Sequence</span>[<span title="str">str</span>]</code> </span> <span class="doc-param-default"> <b>DEFAULT:</b> <code>()</code> </span> </p> </td> </tr> </tbody> </table> <details class="quote"> <summary>Source code in <code>confit/registry.py</code></summary> <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">register</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">func</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">Callable</span><span class="p">[</span><span class="n">P</span><span class="p">,</span> <span class="n">R</span><span class="p">],</span> <span class="n">Type</span><span class="p">[</span><span class="n">R</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">save_params</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">skip_save_params</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">(),</span>
    <span class="n">invoker</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Callable</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">deprecated</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">(),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">Callable</span><span class="p">[</span><span class="n">P</span><span class="p">,</span> <span class="n">R</span><span class="p">]],</span> <span class="n">Union</span><span class="p">[</span><span class="n">Callable</span><span class="p">[</span><span class="n">P</span><span class="p">,</span> <span class="n">R</span><span class="p">],</span> <span class="n">Draftable</span><span class="p">[</span><span class="n">R</span><span class="p">,</span> <span class="n">P</span><span class="p">]]]:</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    This is a convenience wrapper around `catalogue.Registry.register`, that</span>
<span class="sd">    additionally validates the input arguments of the registered function and</span>
<span class="sd">    saves the result of any call to a mapping to its arguments.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    name:</span>
<span class="sd">        The name of the function</span>
<span class="sd">    func:</span>
<span class="sd">        The function to register</span>
<span class="sd">    save_params:</span>
<span class="sd">        Additional parameters to save when the function is called. If falsy,</span>
<span class="sd">        the function parameters are not saved</span>
<span class="sd">    skip_save_params:</span>
<span class="sd">        List of parameters to skip when saving the function parameters</span>
<span class="sd">    invoker:</span>
<span class="sd">        An optional invoker to apply to the function before registering it.</span>
<span class="sd">        It is better to use this than to apply the invoker to the function</span>
<span class="sd">        to preserve the signature of the function or the class and enable</span>
<span class="sd">        validating its parameters.</span>
<span class="sd">    deprecated:</span>
<span class="sd">        The deprecated registry names for the function</span>
<span class="sd">    """</span>
    <span class="n">registerer</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">register</span>

    <span class="n">save_params</span> <span class="o">=</span> <span class="n">save_params</span> <span class="ow">or</span> <span class="p">{</span><span class="sa">f</span><span class="s2">"@</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">namespace</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s2">"</span><span class="p">:</span> <span class="n">name</span><span class="p">}</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">invoke</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">params</span><span class="p">):</span>
        <span class="n">resolved</span> <span class="o">=</span> <span class="n">invoker</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">params</span><span class="p">)</span> <span class="k">if</span> <span class="n">invoker</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">func</span><span class="p">(</span><span class="n">params</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">save_params</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">params_to_save</span> <span class="o">=</span> <span class="p">{</span><span class="o">**</span><span class="n">save_params</span><span class="p">,</span> <span class="o">**</span><span class="n">params</span><span class="p">}</span>
            <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">skip_save_params</span><span class="p">:</span>
                <span class="n">params_to_save</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="n">Config</span><span class="o">.</span><span class="n">_store_resolved</span><span class="p">(</span><span class="n">resolved</span><span class="p">,</span> <span class="n">params_to_save</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">resolved</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">wrap_and_register</span><span class="p">(</span><span class="n">fn</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[</span><span class="n">P</span><span class="p">,</span> <span class="n">R</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Draftable</span><span class="p">[</span><span class="n">P</span><span class="p">,</span> <span class="n">R</span><span class="p">]:</span>
        <span class="k">if</span> <span class="n">save_params</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">_check_signature_for_save_params</span><span class="p">(</span>
                <span class="n">fn</span> <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">fn</span><span class="p">,</span> <span class="nb">type</span><span class="p">)</span> <span class="k">else</span> <span class="n">fn</span><span class="o">.</span><span class="fm">__init__</span>
            <span class="p">)</span>

        <span class="n">validated_fn</span> <span class="o">=</span> <span class="n">validate_arguments</span><span class="p">(</span>
            <span class="n">fn</span><span class="p">,</span>
            <span class="n">config</span><span class="o">=</span><span class="p">{</span><span class="s2">"arbitrary_types_allowed"</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
            <span class="n">registry</span><span class="o">=</span><span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">"registry"</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
            <span class="n">invoker</span><span class="o">=</span><span class="n">invoke</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">registerer</span><span class="p">(</span><span class="n">name</span><span class="p">)(</span><span class="n">validated_fn</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">deprecated_name</span> <span class="ow">in</span> <span class="n">deprecated</span><span class="p">:</span>

            <span class="k">def</span><span class="w"> </span><span class="nf">make_deprecated_fn</span><span class="p">(</span><span class="n">old</span><span class="p">):</span>
                <span class="nd">@wraps</span><span class="p">(</span><span class="n">fn</span><span class="p">)</span>
                <span class="k">def</span><span class="w"> </span><span class="nf">deprecated_fn</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
                    <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s1">'"</span><span class="si">{</span><span class="n">old</span><span class="si">}</span><span class="s1">" is deprecated, please use "</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s1">" instead."'</span><span class="p">,</span>
                        <span class="n">VisibleDeprecationWarning</span><span class="p">,</span>
                    <span class="p">)</span>
                    <span class="k">return</span> <span class="n">validated_fn</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

                <span class="k">return</span> <span class="n">deprecated_fn</span>

            <span class="n">registerer</span><span class="p">(</span><span class="n">deprecated_name</span><span class="p">)(</span><span class="n">make_deprecated_fn</span><span class="p">(</span><span class="n">deprecated_name</span><span class="p">))</span>

        <span class="k">return</span> <span class="n">validated_fn</span>

    <span class="k">if</span> <span class="n">func</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">wrap_and_register</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">wrap_and_register</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 class="doc doc-heading sourced-heading" id="confit.registry.Registry.get_entry_points"> <code class="highlight language-python"><span class="n">get_entry_points</span></code> <span class="sourced-heading-spacer"></span><a href="https://github.com/aphp/confit/blob/c8936c2/confit/registry.py#L541" target="_blank">[source]</a></h3> <div class="doc doc-contents"> <p>Get registered entry points from other packages for this namespace.</p> <p>RETURNS (Dict[str, Any]): Entry points, keyed by name.</p> <details class="quote"> <summary>Source code in <code>confit/registry.py</code></summary> <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_entry_points</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""Get registered entry points from other packages for this namespace.</span>

<span class="sd">    RETURNS (Dict[str, Any]): Entry points, keyed by name.</span>
<span class="sd">    """</span>
    <span class="n">entrypoints</span> <span class="o">=</span> <span class="n">importlib_metadata</span><span class="o">.</span><span class="n">entry_points</span><span class="p">()</span>
    <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">entrypoints</span><span class="p">,</span> <span class="s2">"select"</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">entrypoints</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">group</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">entry_point_namespace</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>  <span class="c1"># dict</span>
        <span class="k">return</span> <span class="n">entrypoints</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">entry_point_namespace</span><span class="p">,</span> <span class="p">[])</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 class="doc doc-heading sourced-heading" id="confit.registry.Registry.get"> <code class="highlight language-python"><span class="n">get</span></code> <span class="sourced-heading-spacer"></span><a href="https://github.com/aphp/confit/blob/c8936c2/confit/registry.py#L552" target="_blank">[source]</a></h3> <div class="doc doc-contents"> <p>Get the registered function for a given name.</p> <p>Modified from catalogue.Registry.get to avoid importing all entry points when lookup fails, but rather list the available entry points.</p> <h4 id="confit.registry.Registry.get--parameters">Parameters</h4> <table> <thead> <tr> <th><b>PARAMETER</b></th> <th><b>DESCRIPTION</b></th> </tr> </thead> <tbody> <tr> <td><code>name</code></td> <td class="doc-param-details"> <p>The name of the function</p> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code><span title="str">str</span></code> </span> </p> </td> </tr> </tbody> </table> <table> <thead> <tr> <th><span class="doc-section-title">RETURNS</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class="doc-section-item"> <td> <span class="doc-returns-annotation"> <code><span title="Func">Func</span></code> </span> </td> <td class="doc-returns-details"> <div class="doc-md-description"> </div> </td> </tr> </tbody> </table> <details class="quote"> <summary>Source code in <code>confit/registry.py</code></summary> <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Get the registered function for a given name.</span>

<span class="sd">    Modified from catalogue.Registry.get to avoid importing</span>
<span class="sd">    all entry points when lookup fails, but rather list the</span>
<span class="sd">    available entry points.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    name: str</span>
<span class="sd">        The name of the function</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    Func</span>
<span class="sd">    """</span>
    <span class="n">path</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">namespace</span><span class="p">)</span> <span class="o">+</span> <span class="p">[</span><span class="n">name</span><span class="p">]</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">catalogue</span><span class="o">.</span><span class="n">_get</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">catalogue</span><span class="o">.</span><span class="n">RegistryError</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">entry_points</span><span class="p">:</span>
            <span class="n">from_entry_point</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_entry_point</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">catalogue</span><span class="o">.</span><span class="n">check_exists</span><span class="p">(</span><span class="o">*</span><span class="n">path</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">catalogue</span><span class="o">.</span><span class="n">_get</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">from_entry_point</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">from_entry_point</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">catalogue</span><span class="o">.</span><span class="n">check_exists</span><span class="p">(</span><span class="o">*</span><span class="n">path</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">catalogue</span><span class="o">.</span><span class="n">RegistryError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">"Can't find '</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">' in registry </span><span class="si">{</span><span class="s1">' -&gt; '</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">namespace</span><span class="p">)</span><span class="si">}</span><span class="s2">. "</span>
                <span class="sa">f</span><span class="s2">"Available names: "</span>
                <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="s1">', '</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_available</span><span class="p">()))</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="s1">'none'</span><span class="si">}</span><span class="s2">"</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="n">catalogue</span><span class="o">.</span><span class="n">_get</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 class="doc doc-heading sourced-heading" id="confit.registry.Registry.get_available"> <code class="highlight language-python"><span class="n">get_available</span></code> <span class="sourced-heading-spacer"></span><a href="https://github.com/aphp/confit/blob/c8936c2/confit/registry.py#L587" target="_blank">[source]</a></h3> <div class="doc doc-contents"> <p>Get all functions for a given namespace.</p> <p>namespace (Tuple[str]): The namespace to get. RETURNS (Dict[str, Any]): The functions, keyed by name.</p> <details class="quote"> <summary>Source code in <code>confit/registry.py</code></summary> <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span>
<span class="normal">595</span>
<span class="normal">596</span>
<span class="normal">597</span>
<span class="normal">598</span>
<span class="normal">599</span>
<span class="normal">600</span>
<span class="normal">601</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_available</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">"""Get all functions for a given namespace.</span>

<span class="sd">    namespace (Tuple[str]): The namespace to get.</span>
<span class="sd">    RETURNS (Dict[str, Any]): The functions, keyed by name.</span>
<span class="sd">    """</span>
    <span class="n">result</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">entry_points</span><span class="p">:</span>
        <span class="n">result</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="n">p</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_entry_points</span><span class="p">()})</span>
    <span class="k">for</span> <span class="n">keys</span> <span class="ow">in</span> <span class="n">catalogue</span><span class="o">.</span><span class="n">REGISTRY</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">namespace</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">keys</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span> <span class="ow">and</span> <span class="nb">all</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">namespace</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="n">keys</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">namespace</span><span class="p">))</span>
        <span class="p">):</span>
            <span class="n">result</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">keys</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
    <span class="k">return</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div><div class="doc doc-object doc-class"> <h2 class="doc doc-heading sourced-heading" id="confit.registry.MetaRegistryCollection"> <code class="highlight language-python"><span class="n">MetaRegistryCollection</span></code> <span class="sourced-heading-spacer"></span><a href="https://github.com/aphp/confit/blob/c8936c2/confit/registry.py#L607" target="_blank">[source]</a></h2> <div class="doc doc-contents"> <p class="doc doc-class-bases"> Bases: <code><span title="type">type</span></code></p> <p>A metaclass for the registry collection that adds it as the registry collection of all registries defined in the body of the class.</p> <p>Initialize the registry collection by adding it-self as the registry collection of all registries.</p> <h3 id="confit.registry.MetaRegistryCollection--parameters">Parameters</h3> <table> <thead> <tr> <th><b>PARAMETER</b></th> <th><b>DESCRIPTION</b></th> </tr> </thead> <tbody> <tr> <td><code>name</code></td> <td class="doc-param-details"> <p> </p> </td> </tr> <tr> <td><code>bases</code></td> <td class="doc-param-details"> <p> </p> </td> </tr> <tr> <td><code>dct</code></td> <td class="doc-param-details"> <p> </p> </td> </tr> </tbody> </table> <details class="quote"> <summary>Source code in <code>confit/registry.py</code></summary> <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">bases</span><span class="p">,</span> <span class="n">dct</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Initialize the registry collection by adding it-self as the registry collection</span>
<span class="sd">    of all registries.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    name</span>
<span class="sd">    bases</span>
<span class="sd">    dct</span>
<span class="sd">    """</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">bases</span><span class="p">,</span> <span class="n">dct</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">dct</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">Registry</span><span class="p">):</span>
            <span class="n">value</span><span class="o">.</span><span class="n">registry</span> <span class="o">=</span> <span class="bp">cls</span>
</code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> </div> </div> </div><div class="doc doc-object doc-class"> <h2 class="doc doc-heading sourced-heading" id="confit.registry.RegistryCollection"> <code>RegistryCollection</code> <span class="sourced-heading-spacer"></span><a href="https://github.com/aphp/confit/blob/c8936c2/confit/registry.py#L635" target="_blank">[source]</a></h2> <div class="doc doc-contents"> <p>A collection of registries.</p> <p>```python class MyRegistries(RegistryCollection): my_registry = Registry(("package_name", "my_registry"), entry_points=True) my_other_registry = Registry(("package_name", "my_other_registry"))</p> </div> </div> <div class="doc doc-object doc-function"> <h2 class="doc doc-heading sourced-heading" id="confit.registry.validate_arguments"> <code class="highlight language-python"><span class="n">validate_arguments</span></code> <span class="sourced-heading-spacer"></span><a href="https://github.com/aphp/confit/blob/c8936c2/confit/registry.py#L186" target="_blank">[source]</a></h2> <div class="doc doc-contents"> <p>Decorator to validate the arguments passed to a function and store the result in a mapping from results to call parameters (allowing</p> <h3 id="confit.registry.validate_arguments--parameters">Parameters</h3> <table> <thead> <tr> <th><b>PARAMETER</b></th> <th><b>DESCRIPTION</b></th> </tr> </thead> <tbody> <tr> <td><code>func</code></td> <td class="doc-param-details"> <p>The function or class to call</p> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code><span title="typing.Optional">Optional</span>[<span title="typing.Callable">Callable</span>[<span title="confit.registry.P">P</span>, <span title="confit.registry.R">R</span>]]</code> </span> <span class="doc-param-default"> <b>DEFAULT:</b> <code>None</code> </span> </p> </td> </tr> <tr> <td><code>config</code></td> <td class="doc-param-details"> <p>The validation configuration object</p> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code><span title="typing.Dict">Dict</span></code> </span> <span class="doc-param-default"> <b>DEFAULT:</b> <code>None</code> </span> </p> </td> </tr> <tr> <td><code>invoker</code></td> <td class="doc-param-details"> <p>An optional invoker to apply on the validated function</p> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code><span title="typing.Optional">Optional</span>[<span title="typing.Callable">Callable</span>[[<span title="typing.Callable">Callable</span>, <span title="typing.Dict">Dict</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]], <span title="typing.Any">Any</span>]]</code> </span> <span class="doc-param-default"> <b>DEFAULT:</b> <code>None</code> </span> </p> </td> </tr> <tr> <td><code>registry</code></td> <td class="doc-param-details"> <p>The registry to use to resolve the default parameters</p> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code><span title="typing.Any">Any</span></code> </span> <span class="doc-param-default"> <b>DEFAULT:</b> <code>None</code> </span> </p> </td> </tr> </tbody> </table> <table> <thead> <tr> <th><span class="doc-section-title">RETURNS</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class="doc-section-item"> <td> <span class="doc-returns-annotation"> <code>Callable[[Callable[P, R]], Draftable[P, R]]:</code> </span> </td> <td class="doc-returns-details"> <div class="doc-md-description"> </div> </td> </tr> </tbody> </table> <details class="quote"> <summary>Source code in <code>confit/registry.py</code></summary> <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">validate_arguments</span><span class="p">(</span>
    <span class="n">func</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Callable</span><span class="p">[</span><span class="n">P</span><span class="p">,</span> <span class="n">R</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">config</span><span class="p">:</span> <span class="n">Dict</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">invoker</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Callable</span><span class="p">[[</span><span class="n">Callable</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]],</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">registry</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">Callable</span><span class="p">[</span><span class="n">P</span><span class="p">,</span> <span class="n">R</span><span class="p">]],</span> <span class="n">Draftable</span><span class="p">[</span><span class="n">P</span><span class="p">,</span> <span class="n">R</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Decorator to validate the arguments passed to a function and store the result</span>
<span class="sd">    in a mapping from results to call parameters (allowing</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    func: Optional[Callable[P, R]]</span>
<span class="sd">        The function or class to call</span>
<span class="sd">    config: Dict</span>
<span class="sd">        The validation configuration object</span>
<span class="sd">    invoker: Optional[Callable]</span>
<span class="sd">        An optional invoker to apply on the validated function</span>
<span class="sd">    registry: Any</span>
<span class="sd">        The registry to use to resolve the default parameters</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    Callable[[Callable[P, R]], Draftable[P, R]]:</span>
<span class="sd">    """</span>
    <span class="k">if</span> <span class="n">config</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">config</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">config</span> <span class="o">=</span> <span class="p">{</span><span class="o">**</span><span class="n">config</span><span class="p">,</span> <span class="s2">"arbitrary_types_allowed"</span><span class="p">:</span> <span class="kc">True</span><span class="p">}</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">validate</span><span class="p">(</span><span class="n">_func</span><span class="p">:</span> <span class="n">Callable</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">_func</span><span class="p">,</span> <span class="nb">type</span><span class="p">):</span>
            <span class="n">_func</span><span class="p">:</span> <span class="nb">type</span>
            <span class="n">vd</span> <span class="o">=</span> <span class="n">_func</span><span class="o">.</span><span class="fm">__init__</span>
            <span class="k">while</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">vd</span><span class="p">,</span> <span class="s2">"__wrapped__"</span><span class="p">):</span>
                <span class="n">vd</span> <span class="o">=</span> <span class="n">vd</span><span class="o">.</span><span class="n">__wrapped__</span>
            <span class="n">vd</span> <span class="o">=</span> <span class="n">ValidatedFunction</span><span class="p">(</span><span class="n">vd</span><span class="p">,</span> <span class="n">config</span><span class="p">)</span>
            <span class="n">vd</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">=</span> <span class="n">_func</span><span class="o">.</span><span class="vm">__name__</span>
            <span class="n">vd</span><span class="o">.</span><span class="n">raw_function</span> <span class="o">=</span> <span class="n">_func</span><span class="o">.</span><span class="fm">__init__</span>
            <span class="k">if</span> <span class="n">PYDANTIC_V1</span><span class="p">:</span>
                <span class="n">vd</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">__fields__</span><span class="p">[</span><span class="s2">"self"</span><span class="p">]</span><span class="o">.</span><span class="n">default</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">vd</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">model_fields</span><span class="p">[</span><span class="s2">"self"</span><span class="p">]</span><span class="o">.</span><span class="n">default</span> <span class="o">=</span> <span class="kc">None</span>

            <span class="c1"># This function is called by Pydantic when asked to cast</span>
            <span class="c1"># a value (most likely a dict) as a Model (most often during</span>
            <span class="c1"># a function call)</span>

            <span class="n">old_get_validators</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">_func</span><span class="o">.</span><span class="n">__get_validators__</span>
                <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">_func</span><span class="p">,</span> <span class="s2">"__get_validators__"</span><span class="p">)</span>
                <span class="k">else</span> <span class="kc">None</span>
            <span class="p">)</span>
            <span class="n">old_get_pydantic_core_schema</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">_func</span><span class="o">.</span><span class="n">__get_pydantic_core_schema__</span>
                <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">_func</span><span class="p">,</span> <span class="s2">"__get_pydantic_core_schema__"</span><span class="p">)</span>
                <span class="k">else</span> <span class="kc">None</span>
            <span class="p">)</span>

            <span class="k">def</span><span class="w"> </span><span class="nf">__get_validators__</span><span class="p">():</span>
<span class="w">                </span><span class="sd">"""</span>
<span class="sd">                This function is called by Pydantic when asked to cast</span>
<span class="sd">                a value (most likely a dict) as a Model (most often during</span>
<span class="sd">                a function call)</span>

<span class="sd">                Yields</span>
<span class="sd">                -------</span>
<span class="sd">                Callable</span>
<span class="sd">                    The validator function</span>
<span class="sd">                """</span>

                <span class="k">def</span><span class="w"> </span><span class="nf">_validate</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
                    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
                        <span class="n">value</span> <span class="o">=</span> <span class="n">Config</span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="o">.</span><span class="n">resolve</span><span class="p">(</span><span class="n">registry</span><span class="o">=</span><span class="n">registry</span><span class="p">)</span>

                    <span class="k">if</span> <span class="n">old_get_validators</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                        <span class="k">for</span> <span class="n">validator</span> <span class="ow">in</span> <span class="n">old_get_validators</span><span class="p">():</span>
                            <span class="n">value</span> <span class="o">=</span> <span class="n">validator</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

                    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">_func</span><span class="p">):</span>
                        <span class="k">return</span> <span class="n">value</span>

                    <span class="k">return</span> <span class="n">_func</span><span class="p">(</span><span class="o">**</span><span class="n">value</span><span class="p">)</span>

                <span class="k">yield</span> <span class="n">_validate</span>

            <span class="k">def</span><span class="w"> </span><span class="nf">__get_pydantic_core_schema__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
                <span class="kn">from</span><span class="w"> </span><span class="nn">pydantic_core</span><span class="w"> </span><span class="kn">import</span> <span class="n">core_schema</span>

                <span class="k">def</span><span class="w"> </span><span class="nf">pre_validate</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
                    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
                        <span class="n">value</span> <span class="o">=</span> <span class="n">Config</span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="o">.</span><span class="n">resolve</span><span class="p">(</span><span class="n">registry</span><span class="o">=</span><span class="n">registry</span><span class="p">)</span>
                    <span class="k">return</span> <span class="n">value</span>

                <span class="k">def</span><span class="w"> </span><span class="nf">post_validate</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
                    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">_func</span><span class="p">):</span>
                        <span class="k">return</span> <span class="n">value</span>

                    <span class="k">return</span> <span class="n">_func</span><span class="p">(</span><span class="o">**</span><span class="n">value</span><span class="p">)</span>

                <span class="k">return</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">chain_schema</span><span class="p">(</span>
                    <span class="p">[</span>
                        <span class="n">core_schema</span><span class="o">.</span><span class="n">no_info_plain_validator_function</span><span class="p">(</span><span class="n">pre_validate</span><span class="p">),</span>
                        <span class="o">*</span><span class="p">(</span>
                            <span class="p">(</span><span class="n">old_get_pydantic_core_schema</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">),)</span>
                            <span class="k">if</span> <span class="n">old_get_pydantic_core_schema</span>
                            <span class="k">else</span> <span class="p">(</span>
                                <span class="n">core_schema</span><span class="o">.</span><span class="n">no_info_plain_validator_function</span><span class="p">(</span><span class="n">fn</span><span class="p">)</span>
                                <span class="k">for</span> <span class="n">fn</span> <span class="ow">in</span> <span class="n">old_get_validators</span><span class="p">()</span>
                            <span class="p">)</span>
                            <span class="k">if</span> <span class="n">old_get_validators</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
                            <span class="k">else</span> <span class="p">()</span>
                        <span class="p">),</span>
                        <span class="n">core_schema</span><span class="o">.</span><span class="n">no_info_plain_validator_function</span><span class="p">(</span><span class="n">post_validate</span><span class="p">),</span>
                    <span class="p">]</span>
                <span class="p">)</span>

            <span class="c1"># This function is called when we do Model(variable=..., other=...)</span>
            <span class="nd">@wraps</span><span class="p">(</span>
                <span class="n">vd</span><span class="o">.</span><span class="n">raw_function</span><span class="p">,</span>
                <span class="n">assigned</span><span class="o">=</span><span class="p">(</span>
                    <span class="s2">"__module__"</span><span class="p">,</span>
                    <span class="s2">"__name__"</span><span class="p">,</span>
                    <span class="s2">"__qualname__"</span><span class="p">,</span>
                    <span class="s2">"__doc__"</span><span class="p">,</span>
                    <span class="s2">"__annotations__"</span><span class="p">,</span>
                    <span class="s2">"__defaults__"</span><span class="p">,</span>
                    <span class="s2">"__kwdefaults__"</span><span class="p">,</span>
                <span class="p">),</span>
            <span class="p">)</span>
            <span class="k">def</span><span class="w"> </span><span class="nf">wrapper_function</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="k">return</span> <span class="n">_resolve_and_validate_call</span><span class="p">(</span>
                        <span class="n">args</span><span class="o">=</span><span class="n">args</span><span class="p">,</span>
                        <span class="n">kwargs</span><span class="o">=</span><span class="n">kwargs</span><span class="p">,</span>
                        <span class="n">pydantic_func</span><span class="o">=</span><span class="n">vd</span><span class="p">,</span>
                        <span class="n">use_self</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                        <span class="n">invoker</span><span class="o">=</span><span class="n">invoker</span><span class="p">,</span>
                        <span class="n">callee</span><span class="o">=</span><span class="n">_func</span><span class="p">,</span>
                    <span class="p">)</span>
                <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="n">is_debug</span><span class="p">()</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span>
                        <span class="n">e</span><span class="o">.</span><span class="n">__context__</span><span class="p">,</span> <span class="p">(</span><span class="n">ValidationError</span><span class="p">,</span> <span class="n">LegacyValidationError</span><span class="p">)</span>
                    <span class="p">):</span>
                        <span class="n">e</span><span class="o">.</span><span class="n">__cause__</span> <span class="o">=</span> <span class="kc">None</span>
                        <span class="n">e</span><span class="o">.</span><span class="n">__suppress_context__</span> <span class="o">=</span> <span class="kc">True</span>
                    <span class="k">raise</span> <span class="n">e</span><span class="o">.</span><span class="n">with_traceback</span><span class="p">(</span><span class="n">remove_lib_from_traceback</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">__traceback__</span><span class="p">))</span>

            <span class="nd">@wraps</span><span class="p">(</span>
                <span class="n">vd</span><span class="o">.</span><span class="n">raw_function</span><span class="p">,</span>
                <span class="n">assigned</span><span class="o">=</span><span class="p">(</span>
                    <span class="s2">"__module__"</span><span class="p">,</span>
                    <span class="s2">"__name__"</span><span class="p">,</span>
                    <span class="s2">"__qualname__"</span><span class="p">,</span>
                    <span class="s2">"__doc__"</span><span class="p">,</span>
                    <span class="s2">"__annotations__"</span><span class="p">,</span>
                    <span class="s2">"__defaults__"</span><span class="p">,</span>
                    <span class="s2">"__kwdefaults__"</span><span class="p">,</span>
                <span class="p">),</span>
            <span class="p">)</span>
            <span class="k">def</span><span class="w"> </span><span class="nf">draft</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">Draft</span><span class="p">[</span><span class="n">_func</span><span class="p">](</span><span class="n">_func</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">)</span>

            <span class="n">_func</span><span class="o">.</span><span class="n">vd</span> <span class="o">=</span> <span class="n">vd</span>
            <span class="k">if</span> <span class="n">PYDANTIC_V1</span><span class="p">:</span>
                <span class="n">_func</span><span class="o">.</span><span class="n">__get_validators__</span> <span class="o">=</span> <span class="n">__get_validators__</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">_func</span><span class="o">.</span><span class="n">__get_pydantic_core_schema__</span> <span class="o">=</span> <span class="n">__get_pydantic_core_schema__</span>
            <span class="c1"># _func.model = vd.model</span>
            <span class="c1"># _func.model.type_ = _func</span>
            <span class="n">_func</span><span class="o">.</span><span class="fm">__init__</span> <span class="o">=</span> <span class="n">wrapper_function</span>
            <span class="n">_func</span><span class="o">.</span><span class="fm">__init__</span><span class="o">.</span><span class="n">__wrapped__</span> <span class="o">=</span> <span class="n">vd</span><span class="o">.</span><span class="n">raw_function</span>
            <span class="n">_func</span><span class="o">.</span><span class="n">draft</span> <span class="o">=</span> <span class="n">draft</span>
            <span class="k">return</span> <span class="n">_func</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="n">vd</span> <span class="o">=</span> <span class="n">ValidatedFunction</span><span class="p">(</span><span class="n">_func</span><span class="p">,</span> <span class="n">config</span><span class="p">)</span>

            <span class="nd">@wraps</span><span class="p">(</span>
                <span class="n">_func</span><span class="p">,</span>
                <span class="n">assigned</span><span class="o">=</span><span class="p">(</span>
                    <span class="s2">"__module__"</span><span class="p">,</span>
                    <span class="s2">"__name__"</span><span class="p">,</span>
                    <span class="s2">"__qualname__"</span><span class="p">,</span>
                    <span class="s2">"__doc__"</span><span class="p">,</span>
                    <span class="s2">"__annotations__"</span><span class="p">,</span>
                    <span class="s2">"__defaults__"</span><span class="p">,</span>
                    <span class="s2">"__kwdefaults__"</span><span class="p">,</span>
                    <span class="s2">"__signature__"</span><span class="p">,</span>
                <span class="p">),</span>
            <span class="p">)</span>
            <span class="k">def</span><span class="w"> </span><span class="nf">wrapper_function</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="k">return</span> <span class="n">_resolve_and_validate_call</span><span class="p">(</span>
                        <span class="n">args</span><span class="o">=</span><span class="n">args</span><span class="p">,</span>
                        <span class="n">kwargs</span><span class="o">=</span><span class="n">kwargs</span><span class="p">,</span>
                        <span class="n">pydantic_func</span><span class="o">=</span><span class="n">vd</span><span class="p">,</span>
                        <span class="n">use_self</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                        <span class="n">invoker</span><span class="o">=</span><span class="n">invoker</span><span class="p">,</span>
                        <span class="n">callee</span><span class="o">=</span><span class="n">_func</span><span class="p">,</span>
                    <span class="p">)</span>
                <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="n">is_debug</span><span class="p">()</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span>
                        <span class="n">e</span><span class="o">.</span><span class="n">__cause__</span><span class="p">,</span> <span class="p">(</span><span class="n">ValidationError</span><span class="p">,</span> <span class="n">LegacyValidationError</span><span class="p">)</span>
                    <span class="p">):</span>
                        <span class="n">e</span><span class="o">.</span><span class="n">__cause__</span> <span class="o">=</span> <span class="kc">None</span>
                        <span class="n">e</span><span class="o">.</span><span class="n">__suppress_context__</span> <span class="o">=</span> <span class="kc">True</span>
                    <span class="k">raise</span> <span class="n">e</span><span class="o">.</span><span class="n">with_traceback</span><span class="p">(</span><span class="n">remove_lib_from_traceback</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">__traceback__</span><span class="p">))</span>

            <span class="nd">@wraps</span><span class="p">(</span>
                <span class="n">vd</span><span class="o">.</span><span class="n">raw_function</span><span class="p">,</span>
                <span class="n">assigned</span><span class="o">=</span><span class="p">(</span>
                    <span class="s2">"__module__"</span><span class="p">,</span>
                    <span class="s2">"__name__"</span><span class="p">,</span>
                    <span class="s2">"__qualname__"</span><span class="p">,</span>
                    <span class="s2">"__doc__"</span><span class="p">,</span>
                    <span class="s2">"__annotations__"</span><span class="p">,</span>
                    <span class="s2">"__defaults__"</span><span class="p">,</span>
                    <span class="s2">"__kwdefaults__"</span><span class="p">,</span>
                <span class="p">),</span>
            <span class="p">)</span>
            <span class="k">def</span><span class="w"> </span><span class="nf">draft</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">Draft</span><span class="p">(</span><span class="n">_func</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">)</span>

            <span class="n">wrapper_function</span><span class="o">.</span><span class="n">vd</span> <span class="o">=</span> <span class="n">vd</span>  <span class="c1"># type: ignore</span>
            <span class="n">wrapper_function</span><span class="o">.</span><span class="n">validate</span> <span class="o">=</span> <span class="n">vd</span><span class="o">.</span><span class="n">init_model_instance</span>  <span class="c1"># type: ignore</span>
            <span class="n">wrapper_function</span><span class="o">.</span><span class="n">__wrapped__</span> <span class="o">=</span> <span class="n">vd</span><span class="o">.</span><span class="n">raw_function</span>  <span class="c1"># type: ignore</span>
            <span class="n">wrapper_function</span><span class="o">.</span><span class="n">model</span> <span class="o">=</span> <span class="n">vd</span><span class="o">.</span><span class="n">model</span>  <span class="c1"># type: ignore</span>
            <span class="n">wrapper_function</span><span class="o">.</span><span class="n">draft</span> <span class="o">=</span> <span class="n">draft</span>
            <span class="k">return</span> <span class="n">wrapper_function</span>

    <span class="k">if</span> <span class="n">func</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">validate</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">validate</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 class="doc doc-heading sourced-heading" id="confit.registry.get_default_registry"> <code class="highlight language-python"><span class="n">get_default_registry</span></code> <span class="sourced-heading-spacer"></span><a href="https://github.com/aphp/confit/blob/c8936c2/confit/registry.py#L646" target="_blank">[source]</a></h2> <div class="doc doc-contents"> <p>Get the default registered registry.</p> <table> <thead> <tr> <th><span class="doc-section-title">RETURNS</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class="doc-section-item"> <td> <span class="doc-returns-annotation"> <code><a class="autorefs autorefs-internal" href="#confit.registry.Registry" title="Registry (confit.registry.Registry)">Registry</a></code> </span> </td> <td class="doc-returns-details"> <div class="doc-md-description"> </div> </td> </tr> </tbody> </table> <details class="quote"> <summary>Source code in <code>confit/registry.py</code></summary> <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span>
<span class="normal">654</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_default_registry</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Get the default registered registry.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    Registry</span>
<span class="sd">    """</span>
    <span class="k">return</span> <span class="n">_default_registry</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 class="doc doc-heading sourced-heading" id="confit.registry.set_default_registry"> <code class="highlight language-python"><span class="n">set_default_registry</span></code> <span class="sourced-heading-spacer"></span><a href="https://github.com/aphp/confit/blob/c8936c2/confit/registry.py#L660" target="_blank">[source]</a></h2> <div class="doc doc-contents"> <p>Set the default registered registry. This is used in <a class="autorefs autorefs-internal" href="../config/#confit.config.Config.resolve" title="resolve"><code>Config.resolve()</code></a> when no registry is provided.</p> <h3 id="confit.registry.set_default_registry--parameters">Parameters</h3> <table> <thead> <tr> <th><b>PARAMETER</b></th> <th><b>DESCRIPTION</b></th> </tr> </thead> <tbody> <tr> <td><code>registry</code></td> <td class="doc-param-details"> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code><span title="confit.registry.CustomRegistry">CustomRegistry</span></code> </span> </p> </td> </tr> </tbody> </table> <table> <thead> <tr> <th><span class="doc-section-title">RETURNS</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class="doc-section-item"> <td> <span class="doc-returns-annotation"> <code><a class="autorefs autorefs-internal" href="#confit.registry.Registry" title="Registry (confit.registry.Registry)">Registry</a></code> </span> </td> <td class="doc-returns-details"> <div class="doc-md-description"> </div> </td> </tr> </tbody> </table> <details class="quote"> <summary>Source code in <code>confit/registry.py</code></summary> <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">660</span>
<span class="normal">661</span>
<span class="normal">662</span>
<span class="normal">663</span>
<span class="normal">664</span>
<span class="normal">665</span>
<span class="normal">666</span>
<span class="normal">667</span>
<span class="normal">668</span>
<span class="normal">669</span>
<span class="normal">670</span>
<span class="normal">671</span>
<span class="normal">672</span>
<span class="normal">673</span>
<span class="normal">674</span>
<span class="normal">675</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">set_default_registry</span><span class="p">(</span><span class="n">registry</span><span class="p">:</span> <span class="n">CustomRegistry</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CustomRegistry</span><span class="p">:</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Set the default registered registry. This is used in</span>
<span class="sd">    [`Config.resolve()`][confit.config.Config.resolve] when no registry is provided.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    registry: Registry</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    Registry</span>
<span class="sd">    """</span>
    <span class="k">global</span> <span class="n">_default_registry</span>
    <span class="n">_default_registry</span> <span class="o">=</span> <span class="n">registry</span>
    <span class="k">return</span> <span class="n">registry</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> <div class="footnote"><hr/><ol></ol></div> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> </main> <footer class="md-footer"> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class="md-copyright"> Made with <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank"> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class="md-dialog" data-md-component="dialog"> <div class="md-dialog__inner md-typeset"></div> </div> <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["navigation.tracking", "navigation.indexes", "content.code.annotate"], "search": "../../assets/javascripts/workers/search.7a47a382.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script> <script src="../../assets/javascripts/bundle.e71a0d61.min.js"></script> <script pret-head-scripts=""></script> </body> </html>